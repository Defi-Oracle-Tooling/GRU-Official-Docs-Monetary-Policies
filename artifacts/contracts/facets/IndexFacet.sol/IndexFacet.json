{
  "_format": "hh-sol-artifact-1",
  "contractName": "IndexFacet",
  "sourceName": "contracts/facets/IndexFacet.sol",
  "abi": [
    {
      "inputs": [],
      "name": "ErrIndexRole",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ErrLengthMismatch",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ErrReentrancy",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ErrSumInvalid",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "dashboardHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "globalVersion",
          "type": "uint64"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "liCRI",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "DashboardSnapshot",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "id",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "version",
          "type": "uint64"
        }
      ],
      "name": "IndexWeightsUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "indexId",
          "type": "bytes32"
        }
      ],
      "name": "getIndex",
      "outputs": [
        {
          "internalType": "uint64",
          "name": "version",
          "type": "uint64"
        },
        {
          "internalType": "bytes32[]",
          "name": "keys",
          "type": "bytes32[]"
        },
        {
          "internalType": "uint256[]",
          "name": "weights",
          "type": "uint256[]"
        },
        {
          "internalType": "bytes32",
          "name": "dashboardHash",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "indexId",
          "type": "bytes32"
        }
      ],
      "name": "getIndexValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLiCRI",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32[]",
          "name": "componentIds",
          "type": "bytes32[]"
        },
        {
          "internalType": "uint256[]",
          "name": "componentValues",
          "type": "uint256[]"
        }
      ],
      "name": "recalcLiCRI",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "faceValueComposite",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32[]",
          "name": "componentIds",
          "type": "bytes32[]"
        },
        {
          "internalType": "uint256[]",
          "name": "componentValues",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "weights",
          "type": "uint256[]"
        }
      ],
      "name": "recalcLiCRIWeighted",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "liCRI",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "dashboardHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "liCRI",
          "type": "uint256"
        },
        {
          "internalType": "uint64",
          "name": "globalVersion",
          "type": "uint64"
        }
      ],
      "name": "setDashboardComposite",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "indexId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "setIndexValue",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "indexId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32[]",
          "name": "keys",
          "type": "bytes32[]"
        },
        {
          "internalType": "uint256[]",
          "name": "weights",
          "type": "uint256[]"
        },
        {
          "internalType": "uint64",
          "name": "version",
          "type": "uint64"
        },
        {
          "internalType": "bytes32",
          "name": "dashboardHash",
          "type": "bytes32"
        }
      ],
      "name": "setWeights",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610ec5806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063a28de2441161005b578063a28de244146100fe578063c0af218d14610113578063c0f2d5f714610126578063e6b51a981461013957600080fd5b806351d7bc851461008d57806355f62ed9146100a25780637a58d26a146100c85780638527831b146100db575b600080fd5b6100a061009b366004610ad6565b61014c565b005b6100b56100b0366004610b6a565b610374565b6040519081526020015b60405180910390f35b6100a06100d6366004610b83565b6103bd565b6100ee6100e9366004610b6a565b6104bb565b6040516100bf9493929190610bb8565b600080516020610e30833981519152546100b5565b6100b5610121366004610c50565b610596565b6100a0610134366004610cbc565b6106fc565b6100b5610147366004610cde565b6107f5565b336000908152600080516020610e108339815191526020526040812054600416900361018b5760405163326aaca960e11b815260040160405180910390fd5b600080516020610e5083398151915280546001036101bc57604051633626e13f60e01b815260040160405180910390fd5b600181558584146101e05760405163ab3a7f9960e01b815260040160405180910390fd5b6000805b85811015610224578686828181106101fe576101fe610d78565b90506020020135826102109190610da4565b91508061021c81610dbd565b9150506101e4565b5080670de0b6b3a76400001461024d5760405163044c9ce160e41b815260040160405180910390fd5b60006102588a6109e7565b805467ffffffffffffffff191667ffffffffffffffff871617815560018101859055905061028a600282016000610a33565b610298600382016000610a33565b60005b8881101561032557816002018a8a838181106102b9576102b9610d78565b83546001810185556000948552602094859020919094029290920135919092015550600382018888838181106102f1576102f1610d78565b835460018101855560009485526020948590209190940292909201359190920155508061031d81610dbd565b91505061029b565b5060405167ffffffffffffffff861681528a907fd0bb3ba69f84be3b2eb470a3881f792dce20c4a660a4c1833fd576d38f7fa6ca9060200160405180910390a250506000905550505050505050565b600080610380836109e7565b6003810154909150156103b357806003016000815481106103a3576103a3610d78565b90600052602060002001546103b6565b60005b9392505050565b336000908152600080516020610e10833981519152602052604081205460041690036103fc5760405163326aaca960e11b815260040160405180910390fd5b600080516020610e50833981519152805460010361042d57604051633626e13f60e01b815260040160405180910390fd5b60018155600080516020610e30833981519152839055600080516020610e70833981519152805467ffffffffffffffff841667ffffffffffffffff1990911681178255604080519182526020820186905242828201525186917f6519f20914a226ac2380da7d29c110df4a8a62167ed605e3d5b09beb78933513919081900360600190a25060009055505050565b60006060806000806104cc866109e7565b805460018201546002830180546040805160208084028201810190925282815267ffffffffffffffff9095169a5092965093945091929083018282801561053257602002820191906000526020600020905b81548152602001906001019080831161051e575b505050505093508060030180548060200260200160405190810160405280929190818152602001828054801561058757602002820191906000526020600020905b815481526020019060010190808311610573575b50505050509250509193509193565b336000908152600080516020610e10833981519152602052604081205460041681036105d55760405163326aaca960e11b815260040160405180910390fd5b600080516020610e50833981519152805460010361060657604051633626e13f60e01b815260040160405180910390fd5b6001815584831461062a5760405163ab3a7f9960e01b815260040160405180910390fd5b6000805b8481101561066e5785858281811061064857610648610d78565b905060200201358261065a9190610da4565b91508061066681610dbd565b91505061062e565b506106798482610dd6565b600080516020610e30833981519152819055600080516020610e7083398151915280546040805167ffffffffffffffff90921682526020820184905242828201525192955090916000917f6519f20914a226ac2380da7d29c110df4a8a62167ed605e3d5b09beb78933513919081900360600190a2505060009055949350505050565b336000908152600080516020610e108339815191526020526040812054600416900361073b5760405163326aaca960e11b815260040160405180910390fd5b600080516020610e50833981519152805460010361076c57604051633626e13f60e01b815260040160405180910390fd5b60018155600061077b846109e7565b60028101549091506000036107c85760028101805460018181018355600092835260208084206456414c554560d81b930192909255600384018054918201815583529120018390556107ec565b82816003016000815481106107df576107df610d78565b6000918252602090912001555b50600090555050565b336000908152600080516020610e10833981519152602052604081205460041681036108345760405163326aaca960e11b815260040160405180910390fd5b600080516020610e50833981519152805460010361086557604051633626e13f60e01b815260040160405180910390fd5b6001815586851415806108785750868314155b156108965760405163ab3a7f9960e01b815260040160405180910390fd5b60008060005b85811015610937578686828181106108b6576108b6610d78565b90506020020135836108c89190610da4565b9250670de0b6b3a76400008787838181106108e5576108e5610d78565b905060200201358a8a848181106108fe576108fe610d78565b9050602002013561090f9190610df8565b6109199190610dd6565b6109239083610da4565b91508061092f81610dbd565b91505061089c565b5081670de0b6b3a7640000146109605760405163044c9ce160e41b815260040160405180910390fd5b600080516020610e30833981519152819055600080516020610e7083398151915280546040805167ffffffffffffffff90921682526020820184905242828201525192955085926000917f6519f20914a226ac2380da7d29c110df4a8a62167ed605e3d5b09beb78933513919081900360600190a250506000909155509695505050505050565b60008082600080516020610e70833981519152604051602001610a14929190918252602082015260400190565b60408051601f1981840301815291905280516020909101209392505050565b5080546000825590600052602060002090810190610a519190610a54565b50565b5b80821115610a695760008155600101610a55565b5090565b60008083601f840112610a7f57600080fd5b50813567ffffffffffffffff811115610a9757600080fd5b6020830191508360208260051b8501011115610ab257600080fd5b9250929050565b803567ffffffffffffffff81168114610ad157600080fd5b919050565b600080600080600080600060a0888a031215610af157600080fd5b87359650602088013567ffffffffffffffff80821115610b1057600080fd5b610b1c8b838c01610a6d565b909850965060408a0135915080821115610b3557600080fd5b50610b428a828b01610a6d565b9095509350610b55905060608901610ab9565b91506080880135905092959891949750929550565b600060208284031215610b7c57600080fd5b5035919050565b600080600060608486031215610b9857600080fd5b8335925060208401359150610baf60408501610ab9565b90509250925092565b60006080820167ffffffffffffffff87168352602060808185015281875180845260a086019150828901935060005b81811015610c0357845183529383019391830191600101610be7565b50508481036040860152865180825290820192508187019060005b81811015610c3a57825185529383019391830191600101610c1e565b5050505060609290920192909252949350505050565b60008060008060408587031215610c6657600080fd5b843567ffffffffffffffff80821115610c7e57600080fd5b610c8a88838901610a6d565b90965094506020870135915080821115610ca357600080fd5b50610cb087828801610a6d565b95989497509550505050565b60008060408385031215610ccf57600080fd5b50508035926020909101359150565b60008060008060008060608789031215610cf757600080fd5b863567ffffffffffffffff80821115610d0f57600080fd5b610d1b8a838b01610a6d565b90985096506020890135915080821115610d3457600080fd5b610d408a838b01610a6d565b90965094506040890135915080821115610d5957600080fd5b50610d6689828a01610a6d565b979a9699509497509295939492505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b80820180821115610db757610db7610d8e565b92915050565b600060018201610dcf57610dcf610d8e565b5060010190565b600082610df357634e487b7160e01b600052601260045260246000fd5b500490565b8082028115828204841417610db757610db7610d8e56fe9f684a81ee6e6fb92a5ae5a2560bb267d45aada2be40484754980c3e16e44d98ed67d0daff738ccf71298a47a56dc9ef98b1ffb107ed17a564642a6aed1dd4df519812a5a8413af10e6fb42e920313e95458e6fafa6523e34000f1c70d4fd501ed67d0daff738ccf71298a47a56dc9ef98b1ffb107ed17a564642a6aed1dd4dea2646970667358221220fac30cdb73d86b7a549455f2d03acafc5b07dc466f8032bd50ef2363f850f7a564736f6c63430008150033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100885760003560e01c8063a28de2441161005b578063a28de244146100fe578063c0af218d14610113578063c0f2d5f714610126578063e6b51a981461013957600080fd5b806351d7bc851461008d57806355f62ed9146100a25780637a58d26a146100c85780638527831b146100db575b600080fd5b6100a061009b366004610ad6565b61014c565b005b6100b56100b0366004610b6a565b610374565b6040519081526020015b60405180910390f35b6100a06100d6366004610b83565b6103bd565b6100ee6100e9366004610b6a565b6104bb565b6040516100bf9493929190610bb8565b600080516020610e30833981519152546100b5565b6100b5610121366004610c50565b610596565b6100a0610134366004610cbc565b6106fc565b6100b5610147366004610cde565b6107f5565b336000908152600080516020610e108339815191526020526040812054600416900361018b5760405163326aaca960e11b815260040160405180910390fd5b600080516020610e5083398151915280546001036101bc57604051633626e13f60e01b815260040160405180910390fd5b600181558584146101e05760405163ab3a7f9960e01b815260040160405180910390fd5b6000805b85811015610224578686828181106101fe576101fe610d78565b90506020020135826102109190610da4565b91508061021c81610dbd565b9150506101e4565b5080670de0b6b3a76400001461024d5760405163044c9ce160e41b815260040160405180910390fd5b60006102588a6109e7565b805467ffffffffffffffff191667ffffffffffffffff871617815560018101859055905061028a600282016000610a33565b610298600382016000610a33565b60005b8881101561032557816002018a8a838181106102b9576102b9610d78565b83546001810185556000948552602094859020919094029290920135919092015550600382018888838181106102f1576102f1610d78565b835460018101855560009485526020948590209190940292909201359190920155508061031d81610dbd565b91505061029b565b5060405167ffffffffffffffff861681528a907fd0bb3ba69f84be3b2eb470a3881f792dce20c4a660a4c1833fd576d38f7fa6ca9060200160405180910390a250506000905550505050505050565b600080610380836109e7565b6003810154909150156103b357806003016000815481106103a3576103a3610d78565b90600052602060002001546103b6565b60005b9392505050565b336000908152600080516020610e10833981519152602052604081205460041690036103fc5760405163326aaca960e11b815260040160405180910390fd5b600080516020610e50833981519152805460010361042d57604051633626e13f60e01b815260040160405180910390fd5b60018155600080516020610e30833981519152839055600080516020610e70833981519152805467ffffffffffffffff841667ffffffffffffffff1990911681178255604080519182526020820186905242828201525186917f6519f20914a226ac2380da7d29c110df4a8a62167ed605e3d5b09beb78933513919081900360600190a25060009055505050565b60006060806000806104cc866109e7565b805460018201546002830180546040805160208084028201810190925282815267ffffffffffffffff9095169a5092965093945091929083018282801561053257602002820191906000526020600020905b81548152602001906001019080831161051e575b505050505093508060030180548060200260200160405190810160405280929190818152602001828054801561058757602002820191906000526020600020905b815481526020019060010190808311610573575b50505050509250509193509193565b336000908152600080516020610e10833981519152602052604081205460041681036105d55760405163326aaca960e11b815260040160405180910390fd5b600080516020610e50833981519152805460010361060657604051633626e13f60e01b815260040160405180910390fd5b6001815584831461062a5760405163ab3a7f9960e01b815260040160405180910390fd5b6000805b8481101561066e5785858281811061064857610648610d78565b905060200201358261065a9190610da4565b91508061066681610dbd565b91505061062e565b506106798482610dd6565b600080516020610e30833981519152819055600080516020610e7083398151915280546040805167ffffffffffffffff90921682526020820184905242828201525192955090916000917f6519f20914a226ac2380da7d29c110df4a8a62167ed605e3d5b09beb78933513919081900360600190a2505060009055949350505050565b336000908152600080516020610e108339815191526020526040812054600416900361073b5760405163326aaca960e11b815260040160405180910390fd5b600080516020610e50833981519152805460010361076c57604051633626e13f60e01b815260040160405180910390fd5b60018155600061077b846109e7565b60028101549091506000036107c85760028101805460018181018355600092835260208084206456414c554560d81b930192909255600384018054918201815583529120018390556107ec565b82816003016000815481106107df576107df610d78565b6000918252602090912001555b50600090555050565b336000908152600080516020610e10833981519152602052604081205460041681036108345760405163326aaca960e11b815260040160405180910390fd5b600080516020610e50833981519152805460010361086557604051633626e13f60e01b815260040160405180910390fd5b6001815586851415806108785750868314155b156108965760405163ab3a7f9960e01b815260040160405180910390fd5b60008060005b85811015610937578686828181106108b6576108b6610d78565b90506020020135836108c89190610da4565b9250670de0b6b3a76400008787838181106108e5576108e5610d78565b905060200201358a8a848181106108fe576108fe610d78565b9050602002013561090f9190610df8565b6109199190610dd6565b6109239083610da4565b91508061092f81610dbd565b91505061089c565b5081670de0b6b3a7640000146109605760405163044c9ce160e41b815260040160405180910390fd5b600080516020610e30833981519152819055600080516020610e7083398151915280546040805167ffffffffffffffff90921682526020820184905242828201525192955085926000917f6519f20914a226ac2380da7d29c110df4a8a62167ed605e3d5b09beb78933513919081900360600190a250506000909155509695505050505050565b60008082600080516020610e70833981519152604051602001610a14929190918252602082015260400190565b60408051601f1981840301815291905280516020909101209392505050565b5080546000825590600052602060002090810190610a519190610a54565b50565b5b80821115610a695760008155600101610a55565b5090565b60008083601f840112610a7f57600080fd5b50813567ffffffffffffffff811115610a9757600080fd5b6020830191508360208260051b8501011115610ab257600080fd5b9250929050565b803567ffffffffffffffff81168114610ad157600080fd5b919050565b600080600080600080600060a0888a031215610af157600080fd5b87359650602088013567ffffffffffffffff80821115610b1057600080fd5b610b1c8b838c01610a6d565b909850965060408a0135915080821115610b3557600080fd5b50610b428a828b01610a6d565b9095509350610b55905060608901610ab9565b91506080880135905092959891949750929550565b600060208284031215610b7c57600080fd5b5035919050565b600080600060608486031215610b9857600080fd5b8335925060208401359150610baf60408501610ab9565b90509250925092565b60006080820167ffffffffffffffff87168352602060808185015281875180845260a086019150828901935060005b81811015610c0357845183529383019391830191600101610be7565b50508481036040860152865180825290820192508187019060005b81811015610c3a57825185529383019391830191600101610c1e565b5050505060609290920192909252949350505050565b60008060008060408587031215610c6657600080fd5b843567ffffffffffffffff80821115610c7e57600080fd5b610c8a88838901610a6d565b90965094506020870135915080821115610ca357600080fd5b50610cb087828801610a6d565b95989497509550505050565b60008060408385031215610ccf57600080fd5b50508035926020909101359150565b60008060008060008060608789031215610cf757600080fd5b863567ffffffffffffffff80821115610d0f57600080fd5b610d1b8a838b01610a6d565b90985096506020890135915080821115610d3457600080fd5b610d408a838b01610a6d565b90965094506040890135915080821115610d5957600080fd5b50610d6689828a01610a6d565b979a9699509497509295939492505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b80820180821115610db757610db7610d8e565b92915050565b600060018201610dcf57610dcf610d8e565b5060010190565b600082610df357634e487b7160e01b600052601260045260246000fd5b500490565b8082028115828204841417610db757610db7610d8e56fe9f684a81ee6e6fb92a5ae5a2560bb267d45aada2be40484754980c3e16e44d98ed67d0daff738ccf71298a47a56dc9ef98b1ffb107ed17a564642a6aed1dd4df519812a5a8413af10e6fb42e920313e95458e6fafa6523e34000f1c70d4fd501ed67d0daff738ccf71298a47a56dc9ef98b1ffb107ed17a564642a6aed1dd4dea2646970667358221220fac30cdb73d86b7a549455f2d03acafc5b07dc466f8032bd50ef2363f850f7a564736f6c63430008150033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
